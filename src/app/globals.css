@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ===== CONCEPT C: SOFT ORGANIC (Light Mode) ===== */
    --background: 48 20% 98%; /* Warm Sand #FDFCF8 */
    --foreground: 215 14% 34%; /* Warm Grey #4B5563 */

    --card: 0 0% 100%; /* White */
    --card-foreground: 215 14% 34%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 14% 34%;

    --primary: 161 94% 30%; /* Earth Green #059669 */
    --primary-foreground: 0 0% 100%;

    --secondary: 220 13% 91%; /* Light Grey/Stone */
    --secondary-foreground: 215 14% 34%;

    --muted: 48 20% 96%; /* Slightly darker sand */
    --muted-foreground: 215 14% 45%;

    --accent: 32 95% 44%; /* Terracotta #D97706 */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 161 94% 30%; /* Earth Green Ring */

    --radius: 1.5rem; /* 24px - Soft Organic */
    --shadow-color: 48 10% 60% / 0.2;

    --chart-1: 161 94% 30%;
    --chart-2: 32 95% 44%;
    --chart-3: 215 14% 34%;
    --chart-4: 48 20% 80%;
    --chart-5: 220 13% 91%;

    --sidebar-background: 48 20% 98%;
    --sidebar-foreground: 215 14% 34%;
    --sidebar-primary: 161 94% 30%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 48 20% 94%;
    --sidebar-accent-foreground: 161 94% 30%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 161 94% 30%;

    --glass-blur: blur(20px);
    --glass-bg: rgba(255, 255, 255, 0.4);
    --glass-border: rgba(255, 255, 255, 0.3);
  }

  .dark {
    /* ===== CONCEPT C: SOFT ORGANIC (Dark Mode) ===== */
    --background: 24 6% 10%; /* Warm Black/Stone 950 #1C1917 */
    --foreground: 60 5% 90%; /* Stone 200 #E7E5E4 */

    --card: 24 5% 14%; /* Stone 900 */
    --card-foreground: 60 5% 90%;

    --popover: 24 5% 14%;
    --popover-foreground: 60 5% 90%;

    --primary: 160 84% 39%; /* Emerald 500 #10B981 */
    --primary-foreground: 0 0% 100%;

    --secondary: 24 5% 18%; /* Stone 800 */
    --secondary-foreground: 60 5% 90%;

    --muted: 24 5% 18%;
    --muted-foreground: 24 5% 64%; /* Stone 500 */

    --accent: 32 95% 54%; /* Brighter Terracotta for Dark Mode */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 24 5% 18%;
    --input: 24 5% 18%;
    --ring: 160 84% 39%;

    --chart-1: 160 84% 39%;
    --chart-2: 32 95% 54%;
    --chart-3: 60 5% 90%;
    --chart-4: 24 5% 64%;
    --chart-5: 24 5% 18%;

    --sidebar-background: 24 6% 10%;
    --sidebar-foreground: 60 5% 90%;
    --sidebar-primary: 160 84% 39%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 24 5% 18%;
    --sidebar-accent-foreground: 160 84% 39%;
    --sidebar-border: 24 5% 18%;
    --sidebar-ring: 160 84% 39%;

    --glass-blur: blur(20px);
    --glass-bg: rgba(28, 25, 23, 0.4);
    --glass-border: rgba(255, 255, 255, 0.05);
  }

  /* ===== BASE STYLES ===== */
  * {
    border-color: hsl(var(--border));
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Typography */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  /* Smooth transitions */
  button,
  a,
  input,
  select,
  textarea {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Focus visible styling */
  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }

  /* Scrollbar styling - Global Mac-like style */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border) / 0.8);
    border-radius: 9999px;
    border: 3px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--foreground) / 0.4);
    border-width: 2px;
  }

  ::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* Selection styling */
  ::selection {
    background-color: hsl(var(--primary-500) / 0.2);
    color: hsl(var(--foreground-primary));
  }
}

@layer utilities {
  /* ===== PRINT UTILITIES ===== */
  .print-only {
    display: none;
  }

  @media print {
    .printing {
      visibility: visible;
      padding: 0;
    }

    .main-content-container {
      display: none;
    }

    .print-only {
      display: block;
      width: 100%;
      height: 100%;
    }

    .safe-area-bottom,
    .pb-safe {
      padding-bottom: 0 !important;
    }
  }

  /* ===== DESIGN SYSTEM 2.0 UTILITIES ===== */
  
  /* Glassmorphism - Updated for Minimalist/Bento + Glass Accent */
  .glass {
    background-color: rgb(255 255 255 / 0.1);
    backdrop-filter: blur(24px);
    border: 1px solid rgb(255 255 255 / 0.2);
  }

  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
  }

  .dark .glass-panel {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-dark {
    background-color: rgb(0 0 0 / 0.1);
    backdrop-filter: blur(24px);
    border: 1px solid rgb(255 255 255 / 0.1);
  }

  /* Text gradients */
  .text-gradient-primary {
    background-image: linear-gradient(to right, hsl(var(--primary-400)), hsl(var(--primary-600)));
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
  }

  .text-gradient-accent {
    background-image: linear-gradient(to right, hsl(var(--accent-400)), hsl(var(--accent-600)));
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
  }

  /* Background gradients */
  .bg-gradient-primary {
    background-image: linear-gradient(to bottom right, hsl(var(--primary-500)), hsl(var(--primary-700)));
  }

  .bg-gradient-accent {
    background-image: linear-gradient(to bottom right, hsl(var(--accent-500)), hsl(var(--accent-700)));
  }

  /* Skeleton shimmer effect */
  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--border-subtle)) 0%,
      hsl(var(--border-default)) 50%,
      hsl(var(--border-subtle)) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }

  /* Animated blob backgrounds */
  .blob-bg {
    position: fixed;
    width: 40%;
    height: 40%;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.1;
    pointer-events: none;
    z-index: -1;
  }

  .blob-primary {
    background-color: hsl(var(--primary-500));
  }

  .blob-accent {
    background-color: hsl(var(--accent-500));
  }

  /* Safe area for mobile */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pb-safe {
    padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
  }

  /* Container queries support */
  @supports (container-type: inline-size) {
    .container-queries {
      container-type: inline-size;
    }
  }
}

/* ===== ANIMATIONS ===== */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}
